mostly based on the xor example
